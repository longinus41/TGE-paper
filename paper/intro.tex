% !TEX root = main.tex
\section{Introduction}
%\textcolor{red}{TBA.}
%\textcolor{red}{
%Today cryptocurrencies have become a global phenomenon with the market capitalization of more than xxx billion dollars. 
%Blockchain technologies are gaining massive momentum in the last few years, largely due to the success of cryptocurrencies like Bitcoin and other altcoins. Blockchain is immutable ledger for recording transactions in append-only way, maintained within a distributed network. Pseudonymous is the born feature of blockchain, i.e., each account is associated with a public address, yet its actual identity is unknown. 
Blockchain technologies are gaining massive momentum in the last few years, largely due to the success of cryptocurrencies like Bitcoin and other altcoins. \textcolor{red}{Anonymity is the key feature within cryptocurrency systems, as users are identified by public-keys only.} Transacting value across the blockchain can be done pseudonymously, thus personal details can be veiled~\cite{reid2013analysis}.
%}

%\textcolor{red}{
%Identity inferring, or deanonymization, plays an important role in blockchains. 
On the other hand, \textcolor{red}{deanonymization also attracts wide attentions}. By tracking and inferring these anonymous accounts, people like traders, law-makers, financial security officers, etc, can have better understanding what is occurring on the blockchain. \textcolor{red}{Significant related works abound, ranging from usual trading detection~\cite{maesa2016analysis} to exchange pattern mining~\cite{ranshous2017exchange}.}

%Thus, significant works are proposed, such as usual trading detection~\cite{maesa2016analysis} and exchange pattern mining~\cite{ranshous2017exchange}. 
%There are many people, including traders, law-makers, financial security officers, etc, needs understand the behaviours on blockchains. 
%}.

%\textcolor{red}{
Challenges are accompanied by the rising of Ethereum, which is an open software platform based on blockchain technology that enables developers to build and deploy smart contracts~\cite{buterin2013ethereum}.
%Ethereum denotes the practice of enabling users to build Turing-complete smart contract on blockchain. 
With such smart contracts, users could perform arbitrary behaviours, instead of simple assets transfer. This brings new challenges for identify inferring. First, decentralized applications (DApps) are constantly expanding and adding new user roles to blockchain ecosystem. \textcolor{red}{Second,} such user roles are unforeseeable without expert knowledge and external information.
%and such identities are unforeseeable without expert knowledge and external information. Second, the behaviours performed by each identify are unpredictable.
%}

%\textcolor{red}{
%For example, ERC20 is one type of smart contracts. [introduce ERC 20 here].
%With the behaviours defined in ERC20 smart contracts, there are two new
%identities, investors and ICO wallets. More complicated, phishes and hackers
%disguise themselves as ERC20 accounts, which makes it even more difficult to
%identify phishes and hackers.
One clear example is that there are more than $2500$ accounts are labeled as `Phish/Hack' in Etherscan\footnote{https://etherscan.io/accounts?l=Phish/Hack.}, which are fraud addresses related to phishing and hacks in Ethereum. Many of them are disguised as ICO (Initial Coin Offering) wallet or DApps like casino~\cite{cerchiello2018icos}, and it is hard to detect them without source code analysis~\cite{jiang2018contractfuzzer}. 
%}

%\textcolor{blue}{
It is not trivial to address these challenges. \textcolor{red}{Existing methods~\cite{maesa2016analysis,ranshous2017exchange,zhao2015graph} realize discerning transaction flows in currency-trade blockchains only, like Bitcoin, which is far from achieving deanonymization in indentity-rich blockchains like Etherem.}
%Existing methods~\cite{maesa2016analysis,ranshous2017exchange,zhao2015graph} realized discerning transaction flows in blockchain system with currency trading only, like Bitcoin. They are far from achieving deanonymization in identity-rich blockchains like Ethereum. 
\textcolor{red}{A proximate work~\cite{chen2018infocom} infers} the account identity by analyzing source codes (e.g., comments or keywords) of smart contracts. \textcolor{red}{However} method relies on experts to exhaustive enumerate all related features, which is tedious, time-consuming and with low accuracy.

 %Some graph based methods [ref] are also facing the challenges from
%the unforeseeable identities and arbitrary behaviours.
%}


%As the second major currency on the market with more than 10 billion dollars\footnote{At the time of this writing, the capitalization of Ethereum is about 11.8 billion dollars, once as high as more than 40 billion dolloars.} of capitalization, Ethereum is developed as a public, open-sourced blockchain-based platform~\cite{buterin2013ethereum}. Unlike Bitcoin, which was designed to be a currency, Ethereum aims to facilitate software processing using a token system called \emph{Ether} (ETH). Ethereum has the ability for users to build Turing-complete smart contract, which is a collection of code and data state that resides at a specific address on the Ethereum blockchain. Based on that, Ethereum can be applied to various scenarios beyond monetary exchange, such as voting, crowdfunding, lending, property rights protection and so on.

%From a logical perspective, the core elements in Ethereum include accounts and transactions. There are two types of accounts, namely \emph{Externally Owned Accounts} (EOAs) and \emph{Contract Accounts} (CAs). Both have an ETH balance and the major difference between is that EOAs are controlled by people who hold the public-private key pairs whereas CAs are ruled by executable codes inside. The transactions refer to the signed data package, recording messages to be sent from an account to another account on the blockchain. In Ethereum, various activities, such as money transfer, smart contract creation and invocation can be leveraged via transactions~\cite{chen2018infocom}.

%Ethereum is pseudonymous, i.e., each account is associated with a public address, but its actual identity is unknown. \textcolor{red}{On one hand, anonymity is in the reasons why people use cryptocurrency. Transacting value across the Ethereum network can be done pseudonymously, and personal details can be veiled. On the other hand, deanonymization attracts more and more people to think and concern as well. By tracking and inferring these accounts, we can have better understanding what is occurring on the blockchain. For instance, cryptocurrency team can make airdrop to the top valuable accounts~\cite{harrigan2018airdrops} and the fraud or cheating actions can be detected efficiently~\cite{monamo2016unsupervised}.}


%Although there exists some research efforts on deanonymization in Bitcoin, they are far from achieving identity inference in Ethereum. First, most deanonymization methods target on \textcolor{red}{rebuilding transaction flow on Bitcoin because the \emph{UTXO} (Unspent Transaction Output) model makes it hard to figure out the transaction trace~\cite{reid2013analysis,zhao2015graph,meiklejohn2013fistful}. However, there's really no such problems in Ethereum since Ethereum takes the \emph{Account/Balance} model and it is easy to reveal the transaction trace~\cite{buterin2013ethereum}.}

%\textcolor{red}{However, further deanonymization does not happen as expected in Ethereum. A proximate work is~\cite{chen2018infocom}, which has inferred the account identity by analyzing source codes (e.g., comments or keywords) of smart contracts. Such method relies on experts to exhaustive enumerate all related features, which is tedious, time-consuming and with low accuracy.}


%existing methods relies on experts to exhaustive enumerate all related features. The most relevant work to ours is~\cite{chen2018infocom}, which has inferred the account identity by analyzing source codes (e.g., comments or keywords) of smart contracts.}

%, but identify inference aims to reveal accounts' real identity, which is more challenging than traditional deanonymization.  This method is tedious, time-consuming and with low accuracy.}

%Second, existing methods gives only coarse-grained information, but identify inference aims to reveal accounts' real identity, which is more challenging than traditional deanonymization. The most relevant work to ours is~\cite{chen2018infocom}, which has inferred the account identity by analyzing source codes (e.g., comments or keywords) of smart contracts. This method is tedious, time-consuming and with low accuracy.

%On the one hand, most existing methods, however, are in the feature engineering manner, which relies on experts to exhaustive enumerate all related features~\cite{zhao2015graph,maesa2016analysis,chen2018infocom}. This way depends highly on the expertise. One can hardly expect the specialist familiar with all types of graphs, let alone ordinary users. Consequently, it's mechanical, rigid and time-consuming. On the other hand, previous methods exploit merely the node-level features and overlook the more important part, the relationship between nodes, namely the graph structural information. Due to the anonymity feature of Ethereum, little information is revealed in the node data, which results in the poor performance of these methods in blockchain data. Moreover, the inherent characteristic of blockchain data, that is the dynamic evolving, or more specifically, continuous growth in size, pose more challenges to the task. The work~\cite{chen2018infocom} analyze the Etherum from July, 2015 to June, 2017, which have only 48,261,952 transactions. Sadly, as the date of today, the transactions of the time period from Jan, 2018 to March, 2018 have exploded into 116,293,867, which can be hardly handled using traditional methods.~\footnote{The growth rate of Etherum transactions greatly slows down in 2018, so the period we selected could approximately represent the current maximum size of transactions in one quarter.}

%Chen et al.~\cite{chen2018infocom} conduct an investigation on Ethereum by leveraging graph analysis.

%\textcolor{red}{In this paper, we analyze Ethereum transactions and solve the identity inferring problem based on graph deep learning (graph DL)~\cite{battaglia2018relational}.}
\textcolor{red}{In this paper,} we propose graph AIGL, an anonymity identification approach based on graph deep learning to address the challenges of deanonymization. %, unforeseeable identities and arbitrary behaviours.
Unlike existing methods, we turn the identity inferring task into node classification, which is a typical graph analytics problem~\cite{cai2018comprehensive}. Graph deep learning \textcolor{red}{provides effective techniques to} solve the problem via converting the graph into a low dimensional space~\cite{hamilton2017representation,battaglia2018relational}. %Based on the topology of cryptocurrency transaction graph, we can predict the identity.
%Here we aim at determining the identity of accounts on other labeled accounts and the topology of the transaction graph. 
According to what we have learnt, \textcolor{red}{AIGL} is the first work to analyze the cryptocurrency transaction based on graph deep learning techniques as well.

As a general analytic architecture for cryptocurrency, AIGL consists of three phases, \emph{graph construction}, \emph{graph embedding} and \emph{node classification}. In the construction phase, we construct a transaction graph and divide it into multi-relation graphs to capture the different \textcolor{red}{activities of transaction}. In the embedding phase, we propose a graph convolutional network and put the features of nodes and edges into representation. Last, a semi-supervised method is used for nodes classification.

At the same time, we find that using such learning techniques directly \textcolor{red}{has poor performance} in identity inferring. \textcolor{red}{Due to the reason that} cryptocurrency transaction graph has many properties different from traditional networks, \textcolor{red}{e.g,} social media networks~\cite{geng2015learning} and knowledge graphs~\cite{bollacker2008freebase}. In cryptocurrency transaction graph, edges stand for different activities such as money transfer, contract creation and invocation, which can not be measured in a uniform weighted model. Besides, closeness features such as second-order proximity and asymmetric proximity in cryptocurrency transaction graph are characteristic, which should be preserved. \textcolor{red}{Surprisingly,} the relationship between a pair of nodes differs from another, even they have the same transaction frequency which could be expressed by time-density information.

In summary, this paper make the following major contributions.

(1) To the best of our knowledge, we are the first to analyze cryptocurrency transaction based on graph deep learning techniques. And we propose a three-pronged approach to handle account inferring task.

(2) We reveal the particularity of graph analysis in cryptocurrency transaction graph. To address these challenges, we introduce several techniques in data preprocessing and embedding.

(3) To implement such identity inferring task, we take Ethereum as an experimental example and propose a taxonomy of accounts. The evaluation through real data set shows the effectiveness of new approach.


%\textcolor{red}{(2)  The prominent identities are illustrated and provided for model training.}

%. Even the perfect categorization does not exist due to the blockchain anonymity and diversity in Ethereum. However, it is necessary to concern about the identities behind their on-chain transaction activities.
%we can still glean insight from examining the addresses with the most substantial balances by reviewing their on-chain transaction activity.

%(3) To address these challenges, we introduce several techniques in data preprocessing and embedding. 
The rest of the paper is organized as follows. Section~\ref{sec:preliminary} introduces background knowledge of cryptocurrency and raises identity inferring problem. Section~\ref{sec:approach} gives an overview of our analysis procedure first, then detailed architecture is described. Section~\ref{sec:experiments} is experimental evaluation. Section~\ref{sec:relatedworks} presents the related works, and Section~\ref{sec:conclusion} concludes this paper.



